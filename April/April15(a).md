# 운영체제 1-2장 

## 목차

### Chapter 1: 컴퓨터 시스템의 소개

1. 컴퓨터 하드웨어의 구성
2. 컴퓨터 시스템의 동작

### Chapter 2: 운영체제의 소개

1. 운영체제의 개념과 발전 목적
2. 운영체제의 기능
3. 운영체제의 발전 과정과 유형 
4. 운영체제의 서비스
5. 운영체제의 구조 

# Chapter 1: 컴퓨터 시스템의 소개

### 1. 컴퓨터 시스템의 구성

크게 프로세서, 메모리 (기억장치), 주변장치로 구성. 시스템 버스로 연결 

1. **프로세서란?**
    
    컴퓨터 하드웨어에 부착한 모든 장치의 동작 제어, 명령 실행 
    
    중앙처리장치라고도 함. 
    
    연산장치, 제어장치, 레지스터로 구성되어 있고 내부 버스로 연결.
    
    레지스터의 종류와 크기가 다양함. 
    
    사용자 가시 레지스터 
    
    - 데이터 레지스터
    - 주소 레지스터
    
    사용자 불가시 레지스터 
    
    - 프로그램 카운터
    - 명령어 레지스터
    - 누산기
    - 메모리 주소 레지스터
    - 메모리 버피 레지스터
    
2. **메모리란?**
    
    2.1 레지스터
    
    프로세서 내부에 있음. 
    
    프로세서가 사용할 데이터를 보관하는 가장 빠른 메모리 
    
        2.2 메인 메모리 
        
        프로세서 외부에 있음. 
        
        프로세서에서 즉각적으로 수행할 프로그램과 데이터 저장하거나
        
        프로세서에서 처리한 결과를 메인 메모리에 저장. 
        
        주기억장치 또는 1차 기억장치라고 함. DRAM 사용.
        
        메인 메모리는 다수의 셀로 구성, 각 셀은 비트로 구성 
        
        셀이 K비트면 셀이 2^{K}값 저장 가능 
        
        컴파일로 논리적 주소를 물리적 주소로 변환, 이 과정을 매핑 / 메모리 맵이라고 함.
        
        운영체제는 가상 메모리 방법을 이용해서 메인 메모리의 유효 크기를 늘릴 수 있음. (8장)
        
        메모리 속도 = 메모리 접근시간과 메모리 사이클 시간으로 표현할 수 있다. 
        
        메모리 접근시간은 명령이 발생한 후 목표 주소를 검색하여 데이터 쓰기 (읽기)를 시작할 때까지 걸린 시간 
        
        메모리 사이클 시간은 두 번의 연속적인 메모리 동작 사이에 필요한 최소 지연시간. 
        
        보통 사이클 시간이 접근시간보다 약간 길고 메모리의 세부 구현 방법에 따라 다름. 
        
        **2.3 캐시란?**
        
        프로세서 내부나 외부에 있음.
        
        처리 속도가 빠른 프로세서와 상대적으로 느린 메인 메모리의 속도 차이를 보완하는 고석 버퍼. 
        
        메인 메모리에서 데이터를 블록 단위로 가져와 프로세서에 워드 단위로 전달하여 속도를 높임. 
        
        데이터가 이동하는 통로 (대역폭)을 확대하여 프로세서와 메모리의 속도 차이를 줄임. 
        
        프로세서는 메인 메모리에 접근하기 전에 해당 주소의 자료가 있는지 먼저 확인.
    
        캐시의 성능은 작은 용량의 캐시에 프로세서가 이후 참조할 정보가 얼마나 들어 있느냐로 좌우. 
        프로세서가 참조려하는 정보가 있을 때: 캐시 적중 
        반대로 없을 때: 캐시 실패 
    
        블록의 크기: 캐시의 성능으로 좌우됌. 
        실제 프로그램을 실행할 때 참조한 메모리에 대한 공간적 지역성과 시간적 지역성이 있음. 
        공간적 지역성: 대부분의 프로그램이 참조한 주소와 인접한 주소의 내용을 다시 참조하는 특성
        시간적 지역성: 한 번 참조한 주소를 곧 다시 참조하는 특성 
    
        
        **2.4 보조기억장치**
        
        프로그램과 데이터를 저장하는 하드웨어 
        
        1. 시스템 버스 
            
            하드웨어를 물리적으로 연결하여 서로 데이터를 주고받을 수 있게 하는 통로 
            컴퓨터 내부의 다양한 신호 (데이터 입출력 신호, 프로세서 상태 신호, 인터럽트 요구와 허가 신호, 클록 신호 등)을 시스템 버스로 전달. 
    
            - 데이터 버스: 프로세서와 메인 메모리, 주변 장치에서 데이터 전송. 데이터 버스를 구성하는 배선 수는 프로세서가 한 번에 전송할 수 있는 비트 수를 결졍 -> 워드
            - 주소 버스: 프로세서가 시스템 구성 요소를 식별하는 주소 정보 전송. 주소 버스를 구성하는 배선 수는 프로세서와 접속할 수 있는 메인 메모리의 최대 용량 결정. 
            - 제어 버스: 프로세서가 시스템의 구성 요소를 제어하는 데 사용. 제어 신호로 연산장치의 연산 종류와 메인 메모리의 읽기나 쓰기 동작 결정. 
    
        2. **주변장치란?**
            프로세서와 메인 메모리를 제외한 나머지 하드웨어 구성 요소. 크게 입력장치, 출력장치, 저장장치로 구분. 
            - 입력장치: 컴퓨터에서 처리할 데이터를 외부에서 입력하는 장치.
            - 출력장치: 입력장치와 반대로 컴퓨터에서 처리한 데이터를 외부로 보내는 장치.
            - 저장장치: 메인 메모리와 달리 거의 영구적으로 데이터를 저장하는 장치. 데이터를 입력하여 저장, 저장한 데이터를 출력하는 공간, 입출력장치에 포함하기도 함. 
    

### 2. 컴퓨터 시스템의 동작

1. 입력장치로 정보를 입력받아 메모리에 저장
2. 메모리에 저장한 정보를 프로그램 제어에 따라 인출, 연산장치에서 처리
3. 처리한 정보를 출력장치에 표시하거나 보조기억장치에 저장 

### 1. 명령어 구조

 사용자가 원하는 연산과 오퍼랜드, 처리 순서를 프로세서에 지시하는 것 
    프로세서가 실행할 연산인 연산 부호와 명령어가 처리할 데이터, 데이터를 저장한 레지스터나 메모리 주소인 피연산자로 구성됌.

- 연산 부호 (Operation code): 프로세서가 실행할 동작인 연산 지정. 산술 연산, 시프트, 보수 등 연산을 정의. n비트면 최대 2^{n} 연산 가능
- 피연산자 (operand): 연산할 데이터 정보 저장. 데이터는 레지스터나 메모리, 가상 기억장치, 입출력장치 등에 위치 가능. 보통 데이터의 위치를 저장함. 
                        Y = x + b, (x, b: 소스 피연산자 / Y: 목적지 피연산자)

    0-주소 명령어
    1-주소 명령어
    2-주소 명령어
    3-주소 명령어
    등으로 구분 

    0: 직접 주소
    1: 간접 주소

### 2. 명령어 실행

 컴퓨터 시스템의 메모리에 보관
    
    한번에 한개씩 프로세서로 전송하면서 해석 / 실행함. 

1. 명령어 인출
2. 명령어 해석, 프로그램 카운터 변경
3. 피연산자 인출
4. 명령어 실행
5. 결과 저장
6. 다음 명령어로 이동 

프로세서는 메모리에서 명령어를 한 번에 하나씩 인출하고 해석하여 연산.

명령어를 인출하여 연산 완료한 시점까지를 인출-해석-실행 사이클 또는 인출-실행 사이클이라고 함. 

- 인출 사이클: 명령어 실행 사이클의 첫 번째 단계
- 실행 사이클: 인출한 명령어를 해독하고 그 결과에 따라 제어 신호를 발생시켜 명령어 실행.
- 간접 사이클: 직접 주소 지정 방법을 사용하는 실행 사이클은 명령어를 즉시 수행, 간접 주소 지정 방법을 사용하는 실행 사이클은 명령어를 수행하기 전에 실제 데이터가 저장된 주기억장치의 주소인 유효 주소를 한 번 더 읽어온다.
- 인터럽트 사이클: 프로세서가 프로그램을 수행하는 동안 컴퓨터 시스템의 내부나 외부에서 발생하는 예기치 못한 사건. 프로그램 카운터에는 인터럽트 처리 루틴의 시작 주소를 저장해두었다가 인터럽트 처리를 완료하면 중단된 프로그램으로 복귀해서 계속 수행.

### 3. 인터럽트

 현재 실행 중인 프로그램의 수행을 연기하고 다른 프로그램의 수행을 요구하는 명령.
    컴퓨터에 설치된 입출력장치나 프로그램 등에서 프로세서로 보내는 하드웨어 신호. 
    
 시스템의 처리 효율 향상, 프로그램이 실행 순서를 바꿔 가면서 처리하여 다중 프로그래밍에 사용. 
    

- 단일 회선: 인터럽트 요청이 가능한 모든 장치를 공통의 단일 회선으로 프로세서에 연결하는 방법.
- 다중 회선: 모든 장치를 서로 다른 고유의 회선으로 프로세서와 연결하는 방법.

# Chapter 2: 운영체제의 소개

### 1. 운영체제의 개념과 발전 목적

1. 운영체제의 개념
    1. 크게 사용자, 소프트웨어, 하드웨어로 구성 
    2. 사용자가 응용 프로그램을 실행할 수 있는 기반 환경을 제공, 컴퓨터를 편리하게 사용할 수 있도록 도와줌, 하드웨어를 효율적으로 사용할 수 있도록 다양한 기능을 제공하는 소프트웨어 
        1. 하드웨어 및 사용자, 응용 프로그램, 시스템 프로그램 사이에서 인터페이스 제공
        2. 프로세서, 메모리, 입출력장치, 통신장치 등 컴퓨터 자원을 효과적으로 활용하려고 조정 관리
        3. 메일 전송, 파일 시스템 검사, 서버 작업 등 높은 수준의 서비스 처리하는 응용 프로그램 제어
        4. 다양한 사용자에게서 컴퓨터 시스템 보호하려고 입출력 제어 / 데이터 관리 
2. 운영체제의 발전 목적 
    1. 편리성
    2. 효율성
    3. 제어 서비스 향상 

### 2. 운영체제의 기능

1. 자원 관리 - 컴퓨터 시스템의 메모리, 프로세스, 장치, 파일 등 구성 요소 
    1. 메모리 관리
        1. 메인 메모리 / 보조기억장치로 구분하여 설명 가능 
    2. 프로세스 관리 
        1. 실행 중인 프로그램으로 보통 일괄 처리 작업 하나가 프로세스 
        2. 프로세스와 스레드 스케줄링
        3. 사용자 프로세스=와 시스템 프로세스 생성 / 제거
        4. 프로세스 중지 / 재수행 
        5. 프로세스 동기화 방법
        6. 프로세스 통신 방법
        7. 교착 상태 방지 
    3. 주변장치 관리 
        1. 장치 드라이브를 사용하여 입출력장치와 상호작용
            1. 임시 저장 시스템 기능 제공
            2. 일반 장치용 드라이버 인터페이스 제공 
            3. 특정 장치 드라이버 제공 
    4. 파일 관리 
        1. 입출력 파일의 위치, 저장과 검색 관리 
2. 시스템 관리
    1. 시스템 보호
        1. 컴퓨터 자원에서 프로그램, 프로세스, 사용자의 접근 제어 
    2. 네트워킹
        1. 다양한 방법으로 구성된 네트워크를 이용하여 완전 접속과 부분 접속 방법으로 연결 
    3. 명령 해석기 
        1. 사용자나 프로그램에서 대화형으로 입력한 명령어 이해
        2. 사용자가 입력한 명령은 제어문으로 운영체제에 전달 — 이 전달은 명령 해석기가 담당 

### 3. 운영체제의 발전 과정과 유형

1. 운영체제의 발전 과정 
    1. 1940
        1. 기계어 사용 / 단순 순차 처리 
    2. 1950
        1. 일괄 처리 시스템 
            1. 작업 준비 시간을 줄이려고 데이터가 발생할 때마다 즉시 처리하지 않고 데이터를 일정 기간 또는 일정량이 될 때까지 모아두었다가 한꺼번에 처리하는 것 
            2. 문제점: 준비 작업들의 유형이 동일해야, 작업에 모든 유형의 입력을 할 수 없음
            3. 보완하기 위해 모니터링, 버퍼링, 스풀링 방법 등장 
                1. 버퍼링: 프로세서와 입출력장치로 속도 차이로 생긴 유휴시간이 없도록 입출력 장치별로 입출력 버퍼를 두고 프로세서에서 연산을 할 때 동시에 다른 작업을 입출력
                2. 스풀링: 속도가 빠른 디스크를 버퍼처럼 사용하여 입출력장치에서 미리 읽는 것 
    3. 1960
        1. 다중 프로그래밍 시스템
            1. 여러 프로그램을 메모리에 나눠 적재한 후 프로세서를 번갈아 할당하여 프로세서의 사용을 극대화하며 여러 프로그램을 동시에 실행 
        2. 시분할 시스템
            1. 다중 프로그래밍 시스템에 프로세서 스케줄링이라는 개념을 더한 것 
        3. 다중 처리 시스템
            1. 하나의 시스템에서 프로세서를 여러 개 사용하여 처리 능력을 높인 것 
        4. 실시간 처리 시스템 
            1. 즉시 응답 
    4. 1970
        1. (초반) 다중 모드 시스템
        2. 범용 시스템 
        3. (중반) 분산 처리 시스템 
    5. 1970-1990
        1. (1990) 병렬 계산과 분산 계산 
    6. 2000
        1. 모바일 / 임베디드 
        2. 가상화 및 클라우드 컴퓨팅 
            1. 가상화는 물리적 자원을 추상화하여 논리적 자원 형태로 표현하는 기술 
2. 운영체제의 유형
    1. 다중 프로그래밍 시스템 
        1. 프로세서가 유휴 상태일 때 실행 중인 둘 이상의 작업이 프로세서를 전환 (인터리빙) 하여 사용할 수 있도록 동작
    2. 시분할 시스템 
        1. 다수의 사용자가 동시에 컴퓨터의 자원을 공유할 수 있는 기술 
        2. 프로세서에 적재된 여러 프로그램을 교대로 실행, 각 프로그램에 일정한 프로세서 사용 시간 또는 규정 시간량을 할당하여 사용자가 주어진 시간 동안 컴퓨터와 대화하는 형식 
    3. 다중 처리 시스템
        1. 단일 컴퓨터 시스템 내에서 둘 이상의 프로세서를 사용하여 동싱 둘 이상의 프로세스를 지원 
    4. 실시간 처리 시스템
        - 데이터 처리 시스템
        - 더 높은 적시 응답을 요구하는 장소에서 사용하거나 데이터 흐름 또는 프로세서 연산에 엄격한 시간 요구가 있을 때 사용
        1. 경성 실시간 처리 시스템
            1. 작업의 실행 시작이나 완료에 대한 시간 제약 조건을 지키지 못할 때 시스템에 치명적인 영향을 주는 시스템 
        2. 연성 실시간 처리 시스템 
            1. 작업 실행에서 시간 제약 조건은 있으나 이를 지키지 못해도 전체 시스템에 치명적인 영향을 미치지 않는 시스템 
    5. 분산 처리 시스템 
        1. 시스템마다 독립적인 운영체제와 메모리로 운영하여 필요할 때 통신하는 시스템 

### 4. 운영체제의 서비스

1. 부팅 서비스 
    1. 컴퓨터 하드웨어를 관리하고 프로그램을 실행할 수 있도록 컴퓨터에 시동을 건다 
    2. 초기화 포함 — 목적: 시스템 장치 초기화, 시간 설정, 명령 해석기 적재와 준비 
    3. 시스템 장치의 초기화 
2. 사용자 서비스
    1. 프로그래머가 프로그래밍 작업을 쉽게 수행할 수 있도록 한다 
3. 시스템 서비스
    1. 시스템의 효율적인 동작을 보장한다 
        1. 자원 할당
        2. 계정
        3. 보호와 보완 
4. 시스템 호출 
    1. 프로그램이 운영체제의 기능을 서비스받을 수 있는 프로그램과 운영체제 간의 인터페이스 제공 
    2. 두가지 방법
        1. 프로그램에서 명령이나 서브루틴의 호출 형태로 호출하는 방법 
        2. 시스템에서 명령 해석기를 사용하여 대화 형태로 호출 

### 5. 운영체제의 구조

1. 단일 구조 운영체제 
    1. 운영체제의 모든 기능을 커널과 동일한 메모리 공간에 적재한 후 시스템 호출만으로 사용할 수 있다 
2. 계층 구조 운영체제 
    1. 비슷한 기능을 수행하는 요소를 그룹화하여 계층적으로 구성 
    2. 최하위 계층인 하드웨어에서 최상위 계층인 사용자 인터페이스까지 다수의 계층으로 구성 
    3. 모듈화가 잘 되어있음 
    4. 최하위 계층은 하드웨어, 다음으로 프로세서 스케줄링, 메모리 관리 순 
3. 마이크로 커널 구조 운영체제 
    1. 단일 커널 문제를 해결하려고 마이크로 커널을 사용해서 매크를 만듬. 
    2. 하드웨어 초기화와 메모리 관리, 프로세스 관리와 프로세스 간 통신, 프로세스 간 협력을 하는 동기화 기능 등 기본 기능만 실행. 
    3. 마이크로 커널 구조는 커널을 가볍게 하고 운영체제 서비스를 사용자 영역의 독립적인 서버에서 수행해서 서버에서 잘못 수행하더라도 다른 서버와 커널에 치명적인 영향을 주지 않음